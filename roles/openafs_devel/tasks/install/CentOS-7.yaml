---
- name: "CentOS-7: Add EPEL repository"
  become: yes
  yum:
    state: present
    name: epel-release
    update_cache: yes
  tags: root

- name: "CentOS-7: Install development packages"
  become: yes
  yum:
    state: present
    name:
      - autoconf
      - automake
      - bison
      - flex
      - fuse-devel
      - gcc
      - git
      - glibc-devel
      - krb5-devel
      - libevent-devel
      - libtool
      - make
      - ncurses-devel
      - openssl-devel
      - pam-devel
      - perl-devel
      - perl-ExtUtils-Embed
      - redhat-rpm-config
      - rpm-build
      - swig
      - wget
  tags: root

- name: "CentOS-7: Install extra packages"
  become: yes
  yum:
    state: present
    name: "{{ afs_extra_packages }}"
  tags: root
  when: afs_extra_packages is defined
